<div [@routerTransition]>
    <app-page-header [heading]="'Manage Inspection & Destruction'" [icon]="'fa-tasks'"></app-page-header>
    <div class="col-sm-12 col-centered">
        <div class="card mb-3">
            <div class="card-header">Assignment List</div>
            <div class="card-body">
                <div class="row" style="padding-bottom: 15px">
                    <div class="col">
                        <div class="input-group" style="float: right; width: 250px;">
                            <input ngbDatepicker class="form-control" placeholder="Filter by date" [(ngModel)]="indDate" #dp="ngbDatepicker" (click)="dp.toggle()">
                            <div class="input-group-append">
                                <button class="btn btn-outline-secondary" (click)="filterList()" type="button"
                                    ngbTooltip="Filter">
                                    <i class="fa fa-filter" style="cursor: pointer"></i>
                                </button>
                            </div>
                            <div class="input-group-append">
                                <button class="btn btn-outline-secondary" (click)="applyFilter('')" type="button"
                                    ngbTooltip="Clear date">
                                    <i class="fa fa-eraser" style="cursor: pointer"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row" [style.padding-bottom]="'15px'">
                    <div class="col col-lg-12">
                        <mat-form-field>
                            <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter Inspection & Destruction list">
                        </mat-form-field>
                    </div>
                </div>

                <div class="row">
                    <div class="col col-lg-12">
                        <div class="mat-elevation-z8 tbl-indlst">

                            <mat-table [dataSource]="dataSource" matSort>

                                <!-- ID Column -->
                                <ng-container matColumnDef="ind_id">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header> ID </mat-header-cell>
                                    <mat-cell *matCellDef="let row"> {{row.ind_id}} </mat-cell>
                                </ng-container>

                                <!-- Progress Column -->
                                <ng-container matColumnDef="p_shortAddr">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header> Address </mat-header-cell>
                                    <mat-cell *matCellDef="let row"> {{row.p_shortAddr}} </mat-cell>
                                </ng-container>


                                <!-- Progress Column -->
                                <ng-container matColumnDef="po_name">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header> Premise Owner Name </mat-header-cell>
                                    <mat-cell *matCellDef="let row"> {{row.po_name}} </mat-cell>
                                </ng-container>

                                <!-- Color Column [style.color]="row.color"-->
                                <ng-container matColumnDef="team">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header> Team </mat-header-cell>
                                    <mat-cell *matCellDef="let row"> {{row.team}} </mat-cell>
                                </ng-container>

                                <!-- Name Column -->
                                <ng-container matColumnDef="full_name">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header> Created by </mat-header-cell>
                                    <mat-cell *matCellDef="let row"> {{row.full_name}} </mat-cell>
                                </ng-container>

                                <!-- Color Column [style.color]="#4286f4"-->
                                <ng-container matColumnDef="issue_date">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header> Issue Date </mat-header-cell>
                                    <mat-cell *matCellDef="let row"> {{row.issue_date}} </mat-cell>
                                </ng-container>

                                <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                                <mat-row *matRowDef="let row; columns: displayedColumns;" (click)="viewIND(row.ind_id)">
                                </mat-row>
                            </mat-table>

                            <mat-paginator #paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>