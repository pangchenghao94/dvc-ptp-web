<div [@routerTransition]>
    <app-page-header [heading]="'Manage PDK'" [icon]="'fa-tasks'"></app-page-header>
    <div class="col-sm-12 col-centered">
        <div class="card mb-3">
            <div class="card-header">Assignment List</div>
            <div class="card-body">
                <div class="row" [style.padding-bottom]="'15px'">
                    <div class="col col-lg-12">
                        <button type="button" class="btn btn-outline-primary" [style.float]="'right'"
                            [routerLink]="['/addEditPDKAssignment', '1', '-1']" [routerLinkActive]="['router-link-active']" >
                            <i class="fa fa-plus"></i>  Add Assignment
                        </button>
                    </div>
                </div>
                    
                <div class="row" [style.padding-bottom]="'15px'">
                    <div class="col col-lg-12">
                        <mat-form-field>
                            <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter assignment list">
                        </mat-form-field>
                    </div>
                </div>
                        
                <div class="row">
                    <div class="col col-lg-12">
                        <div class="mat-elevation-z8 tbl-assignmentlst">

                            <mat-table [dataSource]="dataSource" matSort>

                                <!-- ID Column -->
                                <ng-container matColumnDef="assignment_id">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header> ID </mat-header-cell>
                                    <mat-cell *matCellDef="let row"> {{row.assignment_id}} </mat-cell>
                                </ng-container>

                                <!-- Progress Column -->
                                <ng-container matColumnDef="address">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header> Address </mat-header-cell>
                                    <mat-cell *matCellDef="let row"> {{row.address}} </mat-cell>
                                </ng-container>

                                <!-- Color Column [style.color]="row.color"-->
                                <ng-container matColumnDef="team">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header> Team </mat-header-cell>
                                    <mat-cell *matCellDef="let row"> {{row.team}} </mat-cell>
                                </ng-container>

                                <!-- Name Column -->
                                <ng-container matColumnDef="postcode">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header> Postcode </mat-header-cell>
                                    <mat-cell *matCellDef="let row"> {{row.postcode}} </mat-cell>
                                </ng-container>

                                <!-- Color Column [style.color]="#4286f4"-->
                                <ng-container matColumnDef="date">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header> Date </mat-header-cell>
                                    <mat-cell *matCellDef="let row"> {{row.date}} </mat-cell>
                                </ng-container>

                                <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                                <mat-row *matRowDef="let row; columns: displayedColumns;"
                                    (click)="viewAssignment(row.assignment_id)">
                                </mat-row>
                            </mat-table>

                            <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
